<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head>
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.5.2 -->
    <script>
        window.materialVersion = "1.5.2"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1',
            '1.5.0'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">



    <link rel="dns-prefetch" href="https://busuanzi.ibruce.info"/>












    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- Title -->
    
    <title>
        
            排序算法 | 
        
        ahscuml
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="http://ww1.sinaimg.cn/thumbnail/7f349269ly1ftmfalpq40j205h0740sk.jpg">
    <link rel="icon" href="http://ww1.sinaimg.cn/thumbnail/7f349269ly1ftmfalpq40j205h0740sk.jpg">

    <meta name="format-detection" content="telephone=no"/>
    <meta name="description" itemprop="description" content="基于网络课程和《数据结构与算法分析——Java语言描述》，基本排序算法的讲解，以及Java代码实现。">
    <meta name="keywords" content="Code,算法,数据结构,排序">
    <meta name="theme-color" content="#0097A7">

    <!-- Disable Fucking Bloody Baidu Tranformation -->
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(a){try{localStorage.removeItem(a)}catch(b){}};lsloader.setLS=function(a,c){try{localStorage.setItem(a,c)}catch(b){}};lsloader.getLS=function(a){var c="";try{c=localStorage.getItem(a)}catch(b){c=""}return c};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var b=[];for(var a=0;a<localStorage.length;a++){b.push(localStorage.key(a))}b.forEach(function(e){var f=lsloader.getLS(e);if(window.oldVersion){var d=window.oldVersion.reduce(function(g,h){return g||f.indexOf("/*"+h+"*/")!==-1},false);if(d){lsloader.removeLS(e)}}})}catch(c){}};lsloader.clean();lsloader.load=function(f,a,b,d){if(typeof b==="boolean"){d=b;b=undefined}d=d||false;b=b||function(){};var e;e=this.getLS(f);if(e&&e.indexOf(versionString)===-1){this.removeLS(f);this.requestResource(f,a,b,d);return}if(e){var c=e.split(versionString)[0];if(c!=a){console.log("reload:"+a);this.removeLS(f);this.requestResource(f,a,b,d);return}e=e.split(versionString)[1];if(d){this.jsRunSequence.push({name:f,code:e});this.runjs(a,f,e)}else{document.getElementById(f).appendChild(document.createTextNode(e));b()}}else{this.requestResource(f,a,b,d)}};lsloader.requestResource=function(b,e,a,c){var d=this;if(c){this.iojs(e,b,function(h,f,g){d.setLS(f,h+versionString+g);d.runjs(h,f,g)})}else{this.iocss(e,b,function(f){document.getElementById(b).appendChild(document.createTextNode(f));d.setLS(b,e+versionString+f)},a)}};lsloader.iojs=function(d,b,g){var a=this;a.jsRunSequence.push({name:b,code:""});try{var f=new XMLHttpRequest();f.open("get",d,true);f.onreadystatechange=function(){if(f.readyState==4){if((f.status>=200&&f.status<300)||f.status==304){if(f.response!=""){g(d,b,f.response);return}}a.jsfallback(d,b)}};f.send(null)}catch(c){a.jsfallback(d,b)}};lsloader.iocss=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.iofonts=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.runjs=function(f,c,e){if(!!c&&!!e){for(var b in this.jsRunSequence){if(this.jsRunSequence[b].name==c){this.jsRunSequence[b].code=e}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var a=document.createElement("script");a.appendChild(document.createTextNode(this.jsRunSequence[0].code));a.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(a);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else{if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var d=this;var a=document.createElement("script");a.src=this.jsRunSequence[0].path;a.type="text/javascript";this.jsRunSequence[0].status="loading";a.onload=function(){d.jsRunSequence.shift();if(d.jsRunSequence.length>0){d.runjs()}};document.body.appendChild(a)}}};lsloader.tagLoad=function(b,a){this.jsRunSequence.push({name:a,code:"",path:b,status:"failed"});this.runjs()};lsloader.jsfallback=function(c,b){if(!!this.jsnamemap[b]){return}else{this.jsnamemap[b]=b}for(var a in this.jsRunSequence){if(this.jsRunSequence[a].name==b){this.jsRunSequence[a].code="";this.jsRunSequence[a].status="failed";this.jsRunSequence[a].path=c}}this.runjs()};lsloader.cssfallback=function(e,c,b){if(!!this.cssnamemap[c]){return}else{this.cssnamemap[c]=1}var d=document.createElement("link");d.type="text/css";d.href=e;d.rel="stylesheet";d.onload=d.onerror=b;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(d,a)};lsloader.runInlineScript=function(c,b){var a=document.getElementById(b).innerText;this.jsRunSequence.push({name:c,code:a});this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/css/style.min.css?MKetZV3cUTfDxvMffaOezg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        

    

    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-image: url(/img/bg.png);
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">


<!-- Import Material Icons -->


    <style id="material_icons"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_icons","/css/material-icons.css?pqhB/Rd/ab0H2+kZp0RDmw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>




    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==", true)</script>
    

    <!-- WebAPP Icons -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="ahscuml">
    <meta name="msapplication-starturl" content="https://ahscuml.github.io/排序算法/">
    <meta name="msapplication-navbutton-color" content="#0097A7">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="ahscuml">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="http://ww1.sinaimg.cn/thumbnail/7f349269ly1ftmfalpq40j205h0740sk.jpg">

    <!-- Site Verification -->
    
    

    <!-- RSS -->
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="https://ahscuml.github.io/排序算法/">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="排序算法 | ahscuml">
    <meta property="og:image" content="http://ww1.sinaimg.cn/thumbnail/7f349269ly1ftmfalpq40j205h0740sk.jpg">
    <meta property="og:description" content="基于网络课程和《数据结构与算法分析——Java语言描述》，基本排序算法的讲解，以及Java代码实现。">
    <meta property="og:article:tag" content="算法"> <meta property="og:article:tag" content="数据结构"> <meta property="og:article:tag" content="排序"> 

    
        <meta property="article:published_time" content="Tue Jul 24 2018 09:56:57 GMT+0800">
        <meta property="article:modified_time" content="Tue Sep 11 2018 11:10:07 GMT+0800">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:card" content="summary_large_image">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="https://ahscuml.github.io/排序算法/index.html" />
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "https://ahscuml.github.io/排序算法/index.html",
    "headline": "排序算法",
    "datePublished": "Tue Jul 24 2018 09:56:57 GMT+0800",
    "dateModified": "Tue Sep 11 2018 11:10:07 GMT+0800",
    "author": {
        "@type": "Person",
        "name": "ahscuml",
        "image": {
            "@type": "ImageObject",
            "url": "/img/avatar.jpg"
        },
        "description": "Things change, roll with it!"
    },
    "publisher": {
        "@type": "Organization",
        "name": "ahscuml",
        "logo": {
            "@type":"ImageObject",
            "url": "http://ww1.sinaimg.cn/thumbnail/7f349269ly1ftmfalpq40j205h0740sk.jpg"
        }
    },
    "keywords": ",算法,数据结构,排序Code",
    "description": "基于网络课程和《数据结构与算法分析——Java语言描述》，基本排序算法的讲解，以及Java代码实现。",
}
</script>


    

    <!-- Analytics -->
    
    
        <script>
    var _hmt = _hmt || [];
    (function() {var hm = document.createElement('script');
    hm.src = 'https://hm.baidu.com/hm.js?bc1232c3e002b15f8a1637e167a9ffbd';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(hm, s);
    })();
</script>
    
    

    <!-- Custom Head -->
    

</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span id="MD-burger-id" class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->


    <!-- Left aligned menu below button -->
    
    
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#选择排序-Selection-Sort"><span class="post-toc-number">1.</span> <span class="post-toc-text">选择排序 Selection Sort</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#算法实现"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">算法实现</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#选择排序优化"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">选择排序优化</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#插入排序-Insertion-Sort"><span class="post-toc-number">2.</span> <span class="post-toc-text">插入排序 Insertion Sort</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#复杂度分析"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">复杂度分析</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#算法实现-1"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">算法实现</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#冒泡排序-Bubble-Sort"><span class="post-toc-number">3.</span> <span class="post-toc-text">冒泡排序 Bubble Sort</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#希尔排序-Shell-Sort"><span class="post-toc-number">4.</span> <span class="post-toc-text">希尔排序 Shell Sort</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#算法分析"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">算法分析</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#归并排序-Merge-Sort"><span class="post-toc-number">5.</span> <span class="post-toc-text">归并排序 Merge Sort</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#自底向上的归并排序"><span class="post-toc-number">5.1.</span> <span class="post-toc-text">自底向上的归并排序</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#问题：求逆序数个数"><span class="post-toc-number">5.2.</span> <span class="post-toc-text">问题：求逆序数个数</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#快速排序-Quick-Sort"><span class="post-toc-number">6.</span> <span class="post-toc-text">快速排序 Quick Sort</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#简单快速排序-注意数组的边界"><span class="post-toc-number">6.1.</span> <span class="post-toc-text">简单快速排序(注意数组的边界)</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#快速排序的优化"><span class="post-toc-number">6.2.</span> <span class="post-toc-text">快速排序的优化</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#问题：取出数组中第n大的元素"><span class="post-toc-number">6.3.</span> <span class="post-toc-text">问题：取出数组中第n大的元素</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#堆排序-HeapSort"><span class="post-toc-number">7.</span> <span class="post-toc-text">堆排序 HeapSort</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#定理"><span class="post-toc-number">8.</span> <span class="post-toc-text">定理</span></a></li></ol>
    </ul>
    




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        <!-- Custom Thumbnail -->
        <div class="post_thumbnail-custom mdl-card__media mdl-color-text--grey-50" style="background-image:url(http://ww1.sinaimg.cn/large/7f349269ly1ftmdmqg15ij20e80bvq3s.jpg)">
    
            <p class="article-headline-p">
                排序算法
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/avatar.jpg" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>ahscuml</strong>
        <span>7月 24, 2018</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    
        <button id="article-functions-qrcode-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">devices other</i>
    <span class="visuallyhidden">devices other</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-qrcode-button">
    <li class="mdl-menu__item">在其它设备中阅读本文章</li>
    
        <img src="https://pan.baidu.com/share/qrcode?w=246&h=246&url=https://ahscuml.github.io/排序算法/">
    
</ul>

    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/排序/">排序</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/数据结构/">数据结构</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/算法/">算法</a>
    </ul>
    

    <!-- Share -->
    
        <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    
        
            <!-- Busuanzi Views -->
            <a class="post_share-link" href="#">
                <li class="mdl-menu__item">
                    <span id="busuanzi_container_page_pv">
                        <span id="busuanzi_value_page_pv"></span>&nbsp;浏览量
                    </span>
                </li>
            </a>
        
    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=排序算法&url=https://ahscuml.github.io/排序算法/index.html&pic=https://ahscuml.github.iohttp://ww1.sinaimg.cn/thumbnail/7f349269ly1ftmfalpq40j205h0740sk.jpg&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=排序算法&url=https://ahscuml.github.io/排序算法/index.html&via=ahscuml" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=https://ahscuml.github.io/排序算法/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=https://ahscuml.github.io/排序算法/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    

    <!-- Share Telegram -->
    
</ul>

    
</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <p>基于网络课程和《数据结构与算法分析——Java语言描述》，基本排序算法的讲解，以及Java代码实现。<br><a id="more"></a><br>O(n²) 时间复杂度<br>虽然时间复杂度相对较高，但是同样也有好处</p>
<ul>
<li>编码相对简单</li>
<li>在某些情况下，这些算法反而更有效</li>
<li>可以从简单的方法中衍生出复杂的算法</li>
<li>作为子过程，经过修改变为复杂的算法</li>
</ul>
<p>重要的思想：<br><strong>逆序数</strong>：排序的过程就是消除逆序数的过程，所以逆序数的个数影响排序的性能(也可以从这个角度来思考排序的性能)  </p>
<ul>
<li>N个互异数的数组的平均逆序数是 $ N(N-1)/4 $(数对的一半)  </li>
<li>通过交换相邻元素进行排序的任何算法平均都需要 $ Ω(N^2) $  </li>
<li>对于归并排序，归并过程中，可以一次消除多个逆序数，提高算法效率。</li>
</ul>
<h3 id="选择排序-Selection-Sort"><a href="#选择排序-Selection-Sort" class="headerlink" title="选择排序 Selection Sort"></a>选择排序 Selection Sort</h3><p>从未排序的数组中逐一选择最小的元素进行排序<br><strong>KEY：寻找数组中最小的元素</strong><br>大约需要 $\frac{N^2}{2}$次比较和N次交换<br>可以考虑对算法进行升级，不仅仅对整型进行排序，对浮点型甚至对对象进行排序（采用Comparable接口，然后通过compareto进行比较）<br><strong>特点：</strong></p>
<ul>
<li>运行时间和输入无关(这样对于最开始就基本有序的数组就没有优势了)  </li>
<li>数据移动最少 </li>
</ul>
<h4 id="算法实现"><a href="#算法实现" class="headerlink" title="算法实现"></a>算法实现</h4><pre><code class="Java">public class SelectionSort{
    public static void SelectionSort(Comparable[] arr) {
        int n = arr.length;
        for (int i = 0; i &lt; n; i++) {
            int minindex = i;
            //注意是从i+1开始的
            for (int j = i + 1; j &lt; n; j++) {
                if(arr[j].compareTo(arr[minindxe]) &lt; 0){
                    minindex = j;
                }
            }
            swap(arr,minindex,i);
        }
    }
    public static void swap(Object[] arr, int i, int j){
        Object e = arr[i];
        arr[i] = arr[j];
        arr[j] = e;
    }
}
</code></pre>
<h4 id="选择排序优化"><a href="#选择排序优化" class="headerlink" title="选择排序优化"></a>选择排序优化</h4><p>优化前，一次遍历仅仅可以找到最小的排好序，优化后，一次遍历可以找到最小的以及最大的两个元素排好序</p>
<pre><code class="java">public class SelectionSort {
    public static void selectionSort(Comparable[] arr) {
        int n = arr.length;
        int left = 0, right = n - 1;
        while(left &lt; right){
            int minindex = left, maxindex = right;
            if(arr[minindex].compareTo(arr[maxindex]) &gt; 0)
                swap(arr, minindex, maxindex);
                //注意i的范围
            for(int i = left + 1; i &lt; right; i++) {
                if (arr[i].compareTo(arr[minindex]) &lt; 0) {
                    minindex = i;
                }
                if (arr[i].compareTo(arr[maxindex]) &gt; 0) {
                    maxindex = i;
                }
            }
            swap(arr, left, minindex);
            swap(arr, right, maxindex);
            left++;
            right--;
        }
    }
}
</code></pre>
<h3 id="插入排序-Insertion-Sort"><a href="#插入排序-Insertion-Sort" class="headerlink" title="插入排序 Insertion Sort"></a>插入排序 Insertion Sort</h3><p>插入排序由N-1趟排序组成。对于p到N-1趟，插入排序保证从位置0到位置p上的元素为已排状态。<br><strong>KEY:比前面一个小就进行交换，否则结束这一次插入(比选择排序优秀的地方，可以提前结束)</strong>  </p>
<ul>
<li>平均情况下，插入排序需要$\frac{N^2}{4}$次比较与$\frac{N^2}{4}$次交换  </li>
<li>逆序数思考维度，每一次交换都是在减少一个逆序数，那么就需要逆序数次交换。</li>
<li><p>对插入排序进行优化：之前的插入排序每一次插入都要进行很多次交换，然而每次交换都是三次赋值的时间，所以很浪费时间，这样可以牺牲一个时间复杂度，将要插入的元素跟之前的元素进行比较，但是先不交换，等到找到要交换的元素，再进行一次交换，这样每一次插入都只进行一次交换。</p>
<h4 id="复杂度分析"><a href="#复杂度分析" class="headerlink" title="复杂度分析"></a>复杂度分析</h4><p>插入排序为$O(n^2)$,如果输入数组时反序的时候，复杂度为$\Theta(N^2)$,如果输入已经预先排序，那么复杂度为$O(N^2)$。正因如此<strong>如果输入几乎被排序，那么插入排序将运行的更快。</strong></p>
<h4 id="算法实现-1"><a href="#算法实现-1" class="headerlink" title="算法实现"></a>算法实现</h4><pre><code class="java">public class InsertionSort{
  public static void insertionSort(Comparable arr) {
      int n = arr.length;
      for(int i = 0; i &lt; n; i++) {
          // 寻找元素arr[i]合适的插入位置

          // 写法1
          // for( int j = i ; j &gt; 0 ; j -- )
          //    if( arr[j].compareTo( arr[j-1] ) &lt; 0 )
          //        swap( arr, j , j-1 );
          //    else
          //        break;

          // 写法2
//            for( int j = i; j &gt; 0 &amp;&amp; arr[j].compareTo(arr[j-1]) &lt; 0 ; j--)
//                swap(arr, j, j-1);

          // 写法3
          // 改进的插入算法，利用赋值替代交换，减少时间消耗
          Comparable e = arr[i];
          int j = i;
          for( ; j &gt; 0 &amp;&amp; arr[j-1].compareTo(e) &gt; 0 ; j--)
              arr[j] = arr[j-1];
          arr[j] = e;
      }
  }
  public static void swap(Object[] arr, int i, int j){
      Object e = arr[i];
      arr[i] = arr[j];
      arr[j] = e;
  }
}
</code></pre>
</li>
</ul>
<h3 id="冒泡排序-Bubble-Sort"><a href="#冒泡排序-Bubble-Sort" class="headerlink" title="冒泡排序 Bubble Sort"></a>冒泡排序 Bubble Sort</h3><p>它重复地走访过要排序的数列，一次比较两个元素，如果他们的顺序错误就把他们交换过来。走访数列的工作是重复地进行直到没有再需要交换，也就是说该数列已经排序完成。  </p>
<pre><code class="java">public class ShellSort {
    private ShellSort() {
    }

    /**
     * 希尔排序算法
     */
    public static void sort(Comparable[] arr) {
        int n = arr.length;
        int h = 1;
        while (h &lt; n / 3) {
            h = 3 * h + 1;
        }
        while (h &gt;= 1) {
            // 排序是从h到n
            for (int i = h; i &lt; n; i++) {
                Comparable e = arr[i];
                int j = i;
                for (; j &gt;= h &amp;&amp; e.compareTo(arr[j - h]) &lt; 0; j -= h) {
                    arr[j] = arr[j - h];
                }
                arr[j] = e;
            }
            h /= 3;
        }
    }

    /**
     * 测试用例
     */
    public static void main(String[] args) {
        int N = 1000000;
        Integer[] arr = SortTestHelper.generateRandomArray(N, 0, 100000);
        SortTestHelper.testSort(&quot;sort.ShellSort&quot;, arr);
    }
}
</code></pre>
<h3 id="希尔排序-Shell-Sort"><a href="#希尔排序-Shell-Sort" class="headerlink" title="希尔排序 Shell Sort"></a>希尔排序 Shell Sort</h3><ul>
<li>希尔排序通过比较一定间隔的元素来工作，，各趟比较所用的距离随着算法的进行而减小，直到只比较相邻元素的最后一趟排序为止。  </li>
<li>$h_k$排序的一般做法是，对于$h_k$，$h_{k+1}$，···$N-1$中的每一个位置<em>i</em>,把其上的元素放到<em>i</em>，$i-h_k$,$i-2h_k$,···中的正确位置上。<h4 id="算法分析"><a href="#算法分析" class="headerlink" title="算法分析"></a>算法分析</h4></li>
<li>希尔排序的一个重要性质就是一个$h_k$排序的文件保持它的$h_k$排序性(我的理解就是，经过$h_k$排序后，逆序对不会再增加)  </li>
<li>使用希尔增量时希尔排序的最坏情形运行时间为$\Theta(N^2)$<pre><code class="java">public class ShellSort {
  privata ShellSort(){}
  public static void shellSort(Comparable[] arr){
      for(int gap = arr.length/2; gap &lt; arr.length; gap /= 2) {
          for(int i = gap; i &lt; arr.length; i++) {
              // 使用插入排序
              Comparable[] temp = arr[i];
              int j = i;
              for(; j &gt;= gap &amp;&amp; temp.compareTo(arr[j - gap]) &lt;0; j-=gap){
                  a[j] = a[j - gap];
              }
              a[j] = temp;
          }
      }
  }
}
</code></pre>
</li>
</ul>
<hr>
<p>O(nlgn)复杂度的排序算法<br>分治算法的思想(分而治之)  </p>
<blockquote>
<p>归并排序 重点在合(如何合)<br>快速排序 重点在分(如何分)  </p>
</blockquote>
<h3 id="归并排序-Merge-Sort"><a href="#归并排序-Merge-Sort" class="headerlink" title="归并排序 Merge Sort"></a>归并排序 Merge Sort</h3><p><strong>KEY：将两个有序的数组合并为一个有序的数组</strong><br>牺牲了存储空间，获得了时间上的减少。<br>首先进行分层，然后对每一层使用归并排序<br><strong>归并排序的逻辑</strong>  递归的思想，这也是递归的一个很好的例子。对于递归的效率分析也是一个很好的技巧(叠缩求和与带入法)<br><strong>优化：</strong></p>
<ul>
<li>对近乎有序的数组进行优化要判断要不要进行归并</li>
<li>由于对于小数据量的元素使用插入排序更加迅速， 所及可以考虑分层进行到一部分的时候改用插入排序(一部分是怎么确定的？)</li>
</ul>
<p>优化后的归并排序</p>
<pre><code class="java">public class MergeSort {
    private MergeSort() {
    }

    /**
     * 递归使用归并排序，对arr[l...r]的范围进行排序
     */
    private static void sort(Comparable[] arr, int l, int r) {
        /*if(l&gt;=r){
            return;
        }*/
        // 优化2：在归并到一定程度的时候使用插入排序
        int size = 15;
        if (r - l &lt;= size) {
            insertionSort(arr, l, r);
        }
        // int mid = (r - l) / 2 + l;
        int mid = (l + r) / 2;
        sort(arr, l, mid);
        sort(arr, mid + 1, r);
        // 优化1：如果已经有序就不进行归并了。
        if (arr[mid].compareTo(arr[mid + 1]) &gt; 0) {
            merge(arr, l, mid, r);
        }
    }
    /**
     * 将arr[l...mid]和arr[mid+1...r]两部分进行归并
     */
    private static void merge(Comparable[] arr, int l, int mid, int r) {
        //拷贝一个数组赋值用(牺牲空间复杂度，降低时间复杂度)
        //注意还有个+1
        Comparable[] aux = Arrays.copyOfRange(arr, l, r + 1);
                // 初始化，i指向左半部分的起始索引位置l；j指向右半部分起始索引位置mid+1
        int i = l, j = mid + 1;
        for (int k = l; k &lt;= r; k++) {
            // 如果左半部分元素已经全部处理完毕
            if (i &gt; mid) {
                // j - l很关键
                arr[k] = aux[j - l];
                j++;
                // 如果右半部分元素已经全部处理完毕
            } else if (j &gt; r) {
                arr[k] = aux[i - l];
                i++;
                // 左半部分所指元素 &lt; 右半部分所指元素
            } else if (aux[i - l].compareTo(aux[j - l]) &lt; 0) {
                arr[k] = aux[i - l];
                i++;
                // 左半部分所指元素 &gt;= 右半部分所指元素
            } else {
                arr[k] = arr[j - l];
                j++;
            }
        }
    }
    private static void insertionSort(Comparable[] arr, int l, int r) {
        for (int i = l + 1; i &lt;= r; i++) {
            int j = i;
            Comparable e = arr[j];
            for (; j &gt; l; j--) {
                if (e.compareTo(arr[j - 1]) &lt; 0) {
                    arr[j] = arr[j - 1];
                } else {
                    break;
                }
            }
            arr[j] = e;
        }
    }
}
</code></pre>
<h4 id="自底向上的归并排序"><a href="#自底向上的归并排序" class="headerlink" title="自底向上的归并排序"></a>自底向上的归并排序</h4><p>不使用递归，只用迭代性能相对来说要差一点点<br>并没有使用到数组的特性(通过下标寻找元素)，所以对于链表很适用。<br>对于数组要思考到越界的问题  </p>
<pre><code class="java">public class MergeSortBUAdvanced{
    /**
     * 自底向上归并排序优化
     * 1、在size小的时候采用插入排序
     * 2、如果归并之前已经有序，则不进行归并
     */
    public static void sort(Comparable[] arr) {
        int n = arr.length;
        // 设置size，低于这个size使用插入排序
        int size = 16;
        // 优化1： 小数组使用插入排序更优化
        for (int i = 0; i &lt; n; i += size) {
            insertionSort(arr, i, Math.min(i + size - 1, n - 1));
        }
        for (; size &lt; n; size += size) {
            for (int i = 0; i + size  &lt; n; i += size + size) {
                // 优化2： 如果之前已经有序，则不进行归并
                if (arr[i + size - 1].compareTo(arr[i + size]) &gt; 0) {
                    merge(arr, i, i + size - 1, Math.min(i + size + size - 1, n - 1));
                }
            }
        }
    }

    private static void merge(Comparable[] arr, int l, int mid, int r) {
        Comparable[] aux = Arrays.copyOfRange(arr, l, r + 1);
        int i = l, j = mid + 1;
        for (int k = l; k &lt;= r; k++) {
            if (i &gt; mid) {
                arr[k] = aux[j - l];
                j++;
            } else if (j &gt; r) {
                arr[k] = aux[i - l];
                i++;
            } else if (aux[i - l].compareTo(aux[j - l]) &lt; 0) {
                arr[k] = aux[i - l];
                i++;
            } else {
                arr[k] = aux[j - l];
                j++;
            }
        }
    }
    // 优化中使用的插入排序
    private static void insertionSort(Comparable[] arr, int l, int r) {
        for (int i = l; i &lt;= r; i++) {
            Comparable e = arr[i];
            int j = i;
            for (; j &gt; l; j--) {
                if (e.compareTo(arr[j - 1]) &lt; 0) {
                    arr[j] = arr[j - 1];
                } else {
                    break;
                }
            }
            arr[j] = e;
        }
    }
}
</code></pre>
<h4 id="问题：求逆序数个数"><a href="#问题：求逆序数个数" class="headerlink" title="问题：求逆序数个数"></a>问题：求逆序数个数</h4><p>对递归的理解很关键，通过运用归并排序的方法，使得求逆序数的复杂度变为 $O(nlogn$</p>
<pre><code class="java">public class InversionCount{
    /**
     * 递归排序(用作分割)
     */
    public static long sort(Comparable[] arr, int l, int r) {
        if (l &gt;= r) {
            return 0L;
        }
        int mid = l + (r - l) / 2;
        // 求出 arr[l...mid] 范围的逆序数
        long countl = sort(arr, l, mid);
        // 求出 arr[mid+1...r] 范围的逆序数
        long countr = sort(arr, mid + 1, r);
        // 两个count分别是上一个merge的结果，这就相当于将所有的merge结果相加
        return countl + countr + merge(arr, l, mid, r);
    }

    /**
     * 合并操作,就是一个排序的过程
     */
    private static long merge(Comparable[] arr, int l, int mid, int r) {
        // 逆序数对个数初始化
        long count = 0L;
        // merge操作
        Comparable[] aux = Arrays.copyOfRange(arr, l, r + 1);
        int i = l, j = mid + 1;
        for (int k = l; k &lt;= r; k++) {  // 如果左半部分元素已经全部处理完毕
            if (i &gt; mid) {
                arr[k] = aux[j - l];
                j++;
            } else if (j &gt; r) {  // 如果右半部分元素已经全部处理完毕
                arr[k] = aux[i - l];
                i++;
            } else if (aux[j - l].compareTo(aux[i - l]) &gt;= 0) {  // 左半部分所指元素 &lt;= 右半部分所指元素
                arr[k] = aux[i - l];
                i++;
            } else { // 右半部分所指元素 &lt; 左半部分所指元素
                arr[k] = aux[j - l];
                j++;
                // 此时, 因为右半部分j所指的元素小
                // 这个元素和左半部分的所有未处理的元素都构成了逆序数对(不包括右边的是因为右边的在上一次迭代的时候已经计算过了)
                // 左半部分此时未处理的元素个数为 mid - i + 1(注意i的意思，i是将要处理的元素)
                count = count + (long) (mid - i + 1);
            }
        }
        return count;
    }
}
</code></pre>
<h3 id="快速排序-Quick-Sort"><a href="#快速排序-Quick-Sort" class="headerlink" title="快速排序 Quick Sort"></a>快速排序 Quick Sort</h3><p><strong>key:如何将数组分为大小两个(Partition)</strong><br>递归思想，分别使用快速排序<br>围绕着枢纽元进行大小分离，不进行排序，只区分大小  </p>
<h4 id="简单快速排序-注意数组的边界"><a href="#简单快速排序-注意数组的边界" class="headerlink" title="简单快速排序(注意数组的边界)"></a>简单快速排序(注意数组的边界)</h4><blockquote>
<ol>
<li>首先确定元素$v$</li>
<li>遍历数组(j是$&lt;v$的尾部，i是$&gt;v$的尾部,e是遍历的元素)<br><img src="http://ww1.sinaimg.cn/large/7f349269ly1fu3q319266j20vj0boabm.jpg" alt="快速排序结构1"></li>
<li>遍历一遍的数组结构<br><img src="http://ww1.sinaimg.cn/large/7f349269ly1fu3q3h2frpj20wv09q3zv.jpg" alt="快速排序结构2"></li>
<li>最终的结构，j是选定元素的下标，左边是小于$v$的元素，右面是大于$v$的元素<br><img src="http://ww1.sinaimg.cn/large/7f349269ly1fu3q3uhlivj20wr09fq4d.jpg" alt="快速排序结构3"></li>
</ol>
</blockquote>
<pre><code class="java">public class QuickSort{
    public static void quickSort(Comparable[] arr, int l, int r){
        // 递归的基准情况
        if (l &gt;= r) {
            return;
        }
        // partion操作，移动元素，找到中值的位置
        Comparable v = arr[l];
        int j = l;
        for (int i = l + 1; i &lt;= r; i++) {
            if (arr[i].compareTo(v) &lt; 0) {
                j++;
                swap(arr, j, i);
            } 
        }
        swap(arr, l, j);
        j--;
        // 进行递归
        quickSort(arr, l, j);
        quickSort(arr, j + 2, r);
    }
    // 交换函数
    private static void swap(Comparable[] arr, int i, int j) {
        Comparable temp = arr[i];
        arr[i] = arr[j];
        arr[j] = temp;
    }
}
</code></pre>
<h4 id="快速排序的优化"><a href="#快速排序的优化" class="headerlink" title="快速排序的优化"></a>快速排序的优化</h4><p>重点关注列表中下标的位置，根据整个流程来编写程序，同时在分界点，根据下标来区分。</p>
<ol>
<li>底层可以采用插入排序的算法进行优化</li>
<li>针对 <strong>近乎有序</strong> 数组的优化。和归并排序比较，都是利用递归，同样将数组一分为二，但是归并左右两部分是平衡的而快速排序却不是(根据元素的选择)。 不再采用第一个元素为中间值，采用随机选取元素作为中间值。</li>
<li>针对有 <strong>重复元素</strong> 的数组进行的优化。由于在对数组进行分类的时候，与中间值相等的元素并没有进行考虑，所以仍旧被分到了两侧，这样下一次排序仍然要对这些元素进行比较，导致速度很慢。 可以考虑在分类的时候，将大的元素从后往前放置，小的元素从前往后放置，将与中间值相等的元素分散到两侧，这样对于有大量的相同元素的数组可以避免一边数据量很大造成不平衡。  <blockquote>
<ul>
<li>新的算法思想<span id="QuickSort2Ways">(QuickSort2Ways)</span></li>
</ul>
<ol>
<li>改变放置的方式<br><img src="http://ww1.sinaimg.cn/large/7f349269ly1fu3q488vs0j20w509ldh6.jpg" alt="QuickSortAdvanced"></li>
<li>继续从i开始向后遍历元素，直到找到元素$&gt;=v$。<br><img src="http://ww1.sinaimg.cn/large/7f349269ly1fu3q4g2bwjj20vy09qjt4.jpg" alt="QuickSortAdvanced"></li>
<li>继续从j开始向前遍历元素，直到找到元素$&lt;=v$。<br><img src="http://ww1.sinaimg.cn/large/7f349269ly1fu3q4lud9nj20vo0bt40t.jpg" alt="QuickSortAdvanced"></li>
<li>然后交换i的元素和j的元素<br><img src="http://ww1.sinaimg.cn/large/7f349269ly1fu3q4rc4a1j20vi0bgwgb.jpg" alt="QuickSortAdvanced"></li>
<li>继续遍历，直到i=j遍历完成</li>
</ol>
</blockquote>
</li>
</ol>
<pre><code class="java">public class QuickSort2Ways {
   public static void QuickSort2Ways(Comparable[] arr, int l, int r) {
        // 优化：小数组采用插入排序, 递归的基准情况
        int size = 16;
        if (r - l &lt;= size - 1) {
            insertionSort(arr, l, r);
            return;
        }
        // 优化：随机选择中间值，避免过多相同元素的情况
        swap(arr, l, (int) Math.random() * (r - l + 1) + l);
        // 优化：两路排序
        Comparable v = arr[l];
        int i = l + 1, j = r;
        while (true) {
            // 为什么是 &lt; 不是 &lt;= 的思考(http://coding.imooc.com/learn/questiondetail/4920.html)
            while (i &lt;= r &amp;&amp; arr[i].compareTo(v) &lt; 0) {
                i++;
            }
            while (j &gt;= l + 1 &amp;&amp; arr[j].compareTo(v) &gt; 0) {
                j--;
            }
            // 跳出循环
            if (i &gt; j) {
                break;
            }
            swap(arr, i, j);
            i++;
            j--;
        }
        swap(arr, l, j);
        // 递归调用
        sort(arr, l, j - 1);
        sort(arr, j + 1, r);
    }

    private static void swap(Comparable[] arr, int i, int j) {
        Comparable temp = arr[i];
        arr[i] = arr[j];
        arr[j] = temp;
    }

    private static void insertionSort(Comparable[] arr, int l, int r) {
        for (int i = l; i &lt; r; i++) {
            Comparable e = arr[i];
            int j = i;
            for (; j &gt; l; j--) {
                if (arr[j - 1].compareTo(e) &gt; 0) {
                    arr[j] = arr[j - 1];
                } else {
                    break;
                }
            }
            arr[j] = e;
        }
    }
}
</code></pre>
<ol start="4">
<li>在<a href="#QuickSort2Ways">QuickSort2Ways</a>的基础之上对于选定元素相等的元素也进行分类，产生QuickSort3Ways.<blockquote>
<ul>
<li>终极算法QuickSort3Ways</li>
</ul>
<ol>
<li>开始的状态，同时维护3路元素，分别是$&gt;v$、$&lt;v$、$=v$。初始阶段如下图，注意边界的值！<br><img src="http://ww1.sinaimg.cn/large/7f349269ly1fu3q7yg6ekj20w00by40n.jpg" alt="QuickSort3Ways"></li>
<li>如果元素$e$与元素$v$相等，则将i向后移动一位<br><img src="http://ww1.sinaimg.cn/large/7f349269ly1fu3q849gtgj20wb0dpacd.jpg" alt="QuickSort3Ways"></li>
<li>如果元素$e$比元素$v$小，则将$e$与 =$v$ 的元素块第一个元素(lt+1)交换,i向后移动一位<br><img src="http://ww1.sinaimg.cn/large/7f349269ly1fu3q8a53e0j20vw0dv40v.jpg" alt="QuickSort3Ways"></li>
<li>如果元素$e$比元素$v$大，则将$e$与 &gt;$v$ 的元素块第一个元素(gt-1)交换,i向后移动一位<br><img src="http://ww1.sinaimg.cn/large/7f349269ly1fu3q8hd6gej20vy0duwgt.jpg" alt="QuickSort3Ways">    </li>
<li>最终的结果就是 i 与 gt 相等，遍历结束,最终还要讲lt位置的元素与第一个元素交换位置，得到最终的数组(如果不打算维护lt这个元素，要注意数组的边界位置)<br><img src="http://ww1.sinaimg.cn/large/7f349269ly1fu3q8mook3j20w60cp0v3.jpg" alt="QuickSort3Ways"><br><img src="http://ww1.sinaimg.cn/large/7f349269ly1fu3q8r7kv1j20vo09jwgb.jpg" alt="QuickSort3Ways"></li>
</ol>
</blockquote>
</li>
</ol>
<pre><code class="java">public class QuickSort3Ways {
    /**
     * 3路快速排序算法
     */
    private static void QuickSort3Ways(Comparable[] arr, int l, int r) {
        // 优化1：在小分组的时候使用插入排序
        int size = 16;
        if (r - l &lt;= size - 1) {
            insertionSort(arr, l, r);
            return;
        }
        // 优化2：随机选取元素的中间值，避免大量重复元素
        swap(arr, l, (int) Math.random() * (r - l + 1) + l);
        Comparable v = arr[l];
        // gt从r+1开始
        int lt = l, gt = r + 1, i = l + 1;
        while (i &lt; gt) {
            if(v.compareTo(arr[i]) &gt; 0) {
                lt++;
                swap(arr,i,lt);
                i++;
            } else if(v.compareTo(arr[i]) &lt; 0) {
                // 交换了一个没有判断过的元素到i，所以i不用+1！
                gt--;
                swap(arr,i,gt);
            } else {
                // 两个元素相等的情况，不用进行交换
                i++;
            }
        }
        // 将第一个元素交换到=v的位置
        swap(arr,l,lt);
        lt--;
        // 递归调用
        sort(arr,l,lt);
        sort(arr,gt,r);
    }

    /**
     * 插入排序算法
     */
    public static void insertionSort(Comparable[] arr, int l, int r) {
        for (int i = 1; i &lt; r - l + 1; i++) {
            Comparable e = arr[i];
            int j = i;
            for (; j &gt; 0; j--) {
                if (e.compareTo(arr[j - 1]) &lt; 0) {
                    arr[j] = arr[j - 1];
                } else {
                    break;
                }
            }
            arr[j] = e;
        }
    }

    /**
     * 交换函数
     */
    private static void swap(Comparable[] arr, int i, int j) {
        Comparable temp = arr[i];
        arr[i] = arr[j];
        arr[j] = temp;
    }
}
</code></pre>
<h4 id="问题：取出数组中第n大的元素"><a href="#问题：取出数组中第n大的元素" class="headerlink" title="问题：取出数组中第n大的元素"></a>问题：取出数组中第n大的元素</h4><p>如果利用先排序再找到第n个最大值，那么这个算法的复杂度为$O(nlogn)$,但是利用快速排序的思想可以很好的解决这个问题，使得复杂度变为$O(n)$</p>
<pre><code class="java">public static Comparable selection(Comparable[] arr, int k) {
        int n = arr.length;
        // 注意这里是k - 1，因为下标还包括0
        return selection(arr, 0, n - 1, k - 1);
}
private static Comparable selection(Comparable[] arr, int l, int r, int k) {
        swap(arr, l, (int) Math.random() * (r - l + 1) + l);
        Comparable v = arr[l];
        int j = l;
        for (int i = l + 1; i &lt;= r; i++) {
            if (arr[i].compareTo(v) &lt; 0) {
                j++;
                swap(arr, i, j);
            }
        }
        swap(arr, l, j);
        // 避免函数越界
        if (l == r) {
            return arr[l];
        }
        if (j  &lt; k) {
            return selection(arr, j + 1, r, k);
        } else if (j &gt; k) {
            return selection(arr,l,j - 1,k);
        } else {
            return arr[j];
        }
    }

    /**
     * 交换函数
     */
    private static void swap(Comparable[] arr, int i, int j) {
        Comparable temp = arr[i];
        arr[i] = arr[j];
        arr[j] = temp;
    }
</code></pre>
<h3 id="堆排序-HeapSort"><a href="#堆排序-HeapSort" class="headerlink" title="堆排序 HeapSort"></a>堆排序 HeapSort</h3><p>重点在于堆这种数据结构<br>队列：<br>普通队列：按照时间顺序，先进先出，后进后出<br>优先队列：出队顺序和入队顺序和时间无关，和优先级有关</p>
<h3 id="定理"><a href="#定理" class="headerlink" title="定理"></a>定理</h3><ol>
<li>N个互异数的数组的平均逆序数是$\frac{N(N-1)}{4}$</li>
<li>通过交换相邻元素进行排序的任何算法平均都需要$\Omega(N^2)$   <strong>一个排序算法通过删除逆序得以向前进行，而为了有效地进行，他必须使每次交换删除不止一个逆序</strong></li>
<li></li>
</ol>

        
                <blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;">
                    <p><strong>
                         
                            This blog is under a <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">CC BY-NC-SA 4.0 Unported License</a>
                        </strong>
                        <br>
                        <strong>本文链接：</strong><a href="https://ahscuml.github.io/排序算法/">https://ahscuml.github.io/排序算法/</a>
                    </p>
                </blockquote>
        
    

    
</div>


                

                <!-- Post Comments -->
                
                    
    <!-- 使用 DISQUS_CLICK -->
<div id="disqus-comment">
    <div id="disqus_thread"></div>

<!-- add animation -->
<style>
	.disqus_click_btn {
            line-height: 30px;
            margin: 0;
            min-width: 50px;
            padding: 0 14px;
            display: inline-block;
            font-family: "Roboto", "Helvetica", "Arial", sans-serif;
            font-size: 14px;
            font-weight: 400;
            text-transform: uppercase;
            letter-spacing: 0;
            overflow: hidden;
            will-change: box-shadow;
            transition: box-shadow .2s cubic-bezier(.4, 0, 1, 1), background-color .2s cubic-bezier(.4, 0, .2, 1), color .2s cubic-bezier(.4, 0, .2, 1);
            outline: 0;
            cursor: pointer;
            text-decoration: none;
            text-align: center;
            vertical-align: middle;
            border: 0;
            background: rgba(158, 158, 158, .2);
            box-shadow: 0 2px 2px 0 rgba(0, 0, 0, .14), 0 3px 1px -2px rgba(0, 0, 0, .2), 0 1px 5px 0 rgba(0, 0, 0, .12);
            color: #fff;
            background-color: #757575;
            text-shadow: 0;
            display: none
        }
</style>
	
<div class="btn_click_load"> 
    <button class="disqus_click_btn">阅读评论（请确保 disqus 可以正常加载）</button>
</div>

<script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'https://ahscuml.github.io/排序算法/';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'https://ahscuml.github.io/排序算法/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
</script>

<script type="text/ls-javascript" id="disqus-lazy-load-script">
    $.ajax({
        url: 'https://disqus.com/next/config.json',
        timeout: 4000,
        type: 'GET',
        success: (function() {
            var d = document;
            var s = d.createElement('script');
            s.src = '//https-ahscuml-github-io.disqus.com/embed.js';
            s.setAttribute('data-timestamp', + new Date());
            (d.head || d.body).appendChild(s);
            $('.disqus_click_btn').css('display','none');
        })(),
        error: function() {
          $('.disqus_click_btn').css('display','block');
        }
    });
    $('.btn_click_load').click(function() {  //click to load comments
        (function() { // DON'T EDIT BELOW THIS LINE
            var d = document;
            var s = d.createElement('script');
            s.src = '//https-ahscuml-github-io.disqus.com/embed.js';
            s.setAttribute('data-timestamp', + new Date());
            (d.head || d.body).appendChild(s);
        })();
        $('.disqus_click_btn').css('display','none');
    });
</script>
  	

</div>
<style>
    #disqus-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>

                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/动态规划/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/我为什么写这个博客/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(http://ww1.sinaimg.cn/large/7f349269ly1ftmf5fesxfj21qi15oqd9.jpg);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/avatar.jpg" alt="ahscuml's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        ahscuml@163.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="mailto: ahscuml@163.com" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2018/09/">九月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/08/">八月 2018<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/07/">七月 2018<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/03/">三月 2018<span class="sidebar_archives-count">5</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">chrome_reader_mode</i>
                
                分类
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li>
                <a class="sidebar_archives-link" href="/categories/Java/">Java<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/categories/Life/">Life<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/有意思/">有意思<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/机器学习/">机器学习<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/算法与数据结构/">算法与数据结构<span class="sidebar_archives-count">3</span></a>
            </ul>
        </li>
        
            <li class="divider"></li>
        
    

    <!-- Pages  -->
    
        <li>
            <a href="/tags" title="Tags">
                
                    <i class="material-icons sidebar-material-icons">cloud_circle</i>
                
                Tags
            </a>
        </li>
        
    
        <li>
            <a href="/timeline" title="Timeline">
                
                    <i class="material-icons sidebar-material-icons">send</i>
                
                Timeline
            </a>
        </li>
        
    
        <li>
            <a href="https://github.com/ahscuml" title="About">
                
                    <i class="material-icons sidebar-material-icons">person</i>
                
                About
            </a>
        </li>
        
    

    <!-- Article Number  -->
    
        <li>
            <a href="/archives">
                文章总数
                <span class="sidebar-badge">13</span>
            </a>
        </li>
        
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->


<!-- Help & Support -->
<!--

    <a href="mailto:hiviosey@gmail.com" class="sidebar-footer-text-a">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
        sidebar.help
        <span class="mdl-button__ripple-container">
          <span class="mdl-ripple"></span>
        </span>
      </div>
    </a>

-->

<!-- Feedback -->
<!--

    <a href="https://github.com/viosey/hexo-theme-material/issues" target="_blank" class="sidebar-footer-text-a">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
        sidebar.feedback
        <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></div>
    </a>

-->

<!-- About Theme -->
<!--

    <a href="https://blog.viosey.com/index.php/Material.html" target="_blank" class="sidebar-footer-text-a">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
             sidebar.about_theme
            <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></div>
    </a>

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    
        <a href="https://www.instagram.com/ahscuml/" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-instagram">
                <span class="visuallyhidden">Instagram</span>
            </button><!--
     --></a>
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="https://github.com/ahscuml" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-github">
                <span class="visuallyhidden">Github</span>
            </button><!--
     --></a>
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
    
    <!-- V2EX -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;2017&nbsp;-<script type="text/javascript">var fd = new Date();document.write("&nbsp;" + fd.getFullYear() + "&nbsp;");</script>ahscuml
            
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==", true)</script>



    <script>lsloader.load("js_js","/js/js.min.js?d+XW6aNuIPgOn1iA7NnB4g==", true)</script>



    <script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>



    
        <script>lsloader.load("sm_js","/js/smoothscroll.js?lOy/ACj5suSNi7ZVFVbpFQ==", true)</script>
    





    <!-- Busuanzi -->
    <script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>



   <!-- 使用 DISQUS js 代码 -->






<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Import prettify js  -->


    
        <script>lsloader.load("hanabi","/js/hanabi-browser-bundle.js?Pki5+pzkluqu53g+ouMWpA==", true)</script>
    


<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
    
        
        
        HanabiBrowser.start('pre code',true);
    
</script>

<!-- MathJax Load-->

    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"], linebreaks: { automatic:true }, EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) },
        tex2jax: { inlineMath: [ ["$", "$"], ["\\(","\\)"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno",skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']},
        TeX: {  noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } }, Macros: { href: "{}" } },
        messageStyle: "none"
    });
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>




<!-- Bing Background -->


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.5.2 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
